# Demo MCP Server Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# Server Settings
# =============================================================================

# Host to bind the server to (use 0.0.0.0 for Docker)
HOST=127.0.0.1

# Port to bind the server to
PORT=9000

# Enable debug mode (more verbose logging)
DEBUG=false

# Server name (appears in responses and logs)
SERVER_NAME=DemoMcpServer

# =============================================================================
# Authentication Settings
# =============================================================================

# Enable/disable authentication
# Set to false for local testing without Azure AD
ENABLE_AUTH=false

# Azure AD (Entra ID) tenant ID
# Get this from Azure Portal > App Registrations > Your App > Overview
TENANT_ID=your-tenant-id-here

# Application (client) ID
# Get this from Azure Portal > App Registrations > Your App > Overview
CLIENT_ID=your-client-id-here

# JWKS URI for token verification
# Typically: https://login.microsoftonline.com/{tenant-id}/discovery/v2.0/keys
JWKS_URI=https://login.microsoftonline.com/your-tenant-id/discovery/v2.0/keys

# Token issuer
# Typically: https://login.microsoftonline.com/{tenant-id}/v2.0
ISSUER=https://login.microsoftonline.com/your-tenant-id/v2.0

# Expected audience (typically same as CLIENT_ID)
AUDIENCE=your-client-id-here

# Microsoft Graph API scope for OBO token requests
# User.Read is sufficient for the whoami tool
GRAPH_SCOPE=User.Read

# =============================================================================
# OBO (On-Behalf-Of) Flow Authentication
# =============================================================================
# You need ONE of the following configured:

# Option 1: Client Secret (works locally and in Azure)
# Get this from Azure Portal > App Registrations > Your App > Certificates & secrets
CLIENT_SECRET=your-client-secret-here

# Option 2: Federated Identity Credential (Azure-only, secretless)
# Set this to the Object (Principal) ID of the user-assigned managed identity
# that is configured as a federated credential on the app registration.
# This requires Azure IMDS endpoint (not available locally).
# See: https://learn.microsoft.com/en-us/entra/workload-id/workload-identity-federation-config-app-trust-managed-identity
# FEDERATED_CREDENTIAL_OID=your-managed-identity-client-id-here

# =============================================================================
# OAuth 2.1 / RFC 9728 Settings (Optional)
# =============================================================================

# The canonical resource server URL for this MCP server
# If not set, will be constructed from HOST:PORT
# RESOURCE_SERVER_URL=https://your-mcp-server.azurecontainerapps.io

# The authorization server URL
# If not set, will be constructed from TENANT_ID
# AUTHORIZATION_SERVER_URL=https://login.microsoftonline.com/your-tenant-id/v2.0
